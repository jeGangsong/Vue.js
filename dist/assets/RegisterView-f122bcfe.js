import{_ as U,h as b,e as x,f as p,u as V,o as i,c,a,i as v,j as f,k as I,l as L,F as S,p as B,d as T}from"./index-9fe198f4.js";import{a as r}from"./axios-11e9606c.js";const g=l=>(B("data-v-b4f0c067"),l=l(),T(),l),j={class:"form-wrapper"},F=g(()=>a("span",null,"메뉴 이름: ",-1)),M=g(()=>a("span",null,"메뉴 설명: ",-1)),N={key:0},A={key:1},D={key:0,class:"image-wrapper"},E=["src"],O={__name:"RegisterView",setup(l){const u=b(),m=x(),t=p(""),s=p(""),n=p(null),_=V();function h(e){n.value=e.target.files[0]}async function y(){(!t.value||!s.value||!n.value)&&alert("빈 값이 있습니다. 내용을 전부 작성해주세요.");const e=await r.menus.create(t.value,s.value,n.value);e.data.success&&(alert(e.data.message),m.push({name:"menus"})),e.data.success||alert(e.data.message)}async function w(){const e=await r.menus.update(u.params.id,t.value,s.value);alert(e.data.message),m.push({name:"menus-detail",params:{id:e.id}})}async function R(){const e=await r.menus.updateImage(u.params.id,n.value);alert(e.data.message)}function k(e){return URL.createObjectURL(e)}async function C(){const e=await r.menus.findAll(u.params.id);t.value=e.data.name,s.value=e.data.description}return u.params.id?(_.changeTitle("메뉴 수정하기"),C()):_.changeTitle("메뉴 추가하기"),(e,o)=>(i(),c(S,null,[a("div",j,[a("div",null,[F,v(a("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=d=>t.value=d)},null,512),[[f,t.value]])]),a("div",null,[M,v(a("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=d=>s.value=d)},null,512),[[f,s.value]])]),a("input",{type:"file",onChange:h},null,32),I(u).params.id?(i(),c("div",N,[a("button",{onClick:w},"메뉴 수정하기"),a("button",{onClick:R},"이미지 수정하기")])):(i(),c("div",A,[a("button",{onClick:y},"메뉴 추가하기")]))]),n.value?(i(),c("div",D,[a("img",{class:"selected-image",src:k(n.value)},null,8,E)])):L("",!0)],64))}},G=U(O,[["__scopeId","data-v-b4f0c067"]]);export{G as default};
